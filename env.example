# AI Stack Environment Configuration
# Copy this file to .env and modify values as needed

# =============================================================================
# PORTS CONFIGURATION
# =============================================================================
GATEWAY_PORT=8080
ORCH_PORT=8081
RAG_PORT=8082
QDRANT_PORT=6333
ASR_PORT=8084
MCP_PORT=8085
TOOLS_PORT=8086

# =============================================================================
# LLM BACKEND CONFIGURATION
# =============================================================================
# Options: "ollama", "vllm", or "mock" (use mock on low-resource hardware)
LLM_BACKEND=mock

# Ollama Configuration (for development/CPU)
OLLAMA_MODEL=llama3:8b-instruct-q4_K_M
OLLAMA_ORIGINS=*
OLLAMA_KEEP_ALIVE=24h

# vLLM Configuration (for production/GPU)
VLLM_MODEL=/models/Mistral-7B-Instruct-v0.1
VLLM_GPU_MEMORY_UTILIZATION=0.9
VLLM_MAX_MODEL_LEN=4096

# =============================================================================
# GPU CONFIGURATION
# =============================================================================
# Enable GPU support (set to true for production with NVIDIA GPUs)
ENABLE_GPU=false
NVIDIA_VISIBLE_DEVICES=all

# =============================================================================
# RAG & EMBEDDING CONFIGURATION
# =============================================================================
QDRANT_URL=http://qdrant:6333
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
RAG_CHUNK_SIZE=500
RAG_CHUNK_OVERLAP=50
RAG_MAX_RESULTS=10

# =============================================================================
# ASR CONFIGURATION
# =============================================================================
# Model sizes: tiny, base, small, medium, large, large-v2, large-v3
ASR_MODEL=medium
# Device: cpu, cuda, auto
ASR_DEVICE=cpu
ASR_LANGUAGE=auto
ASR_EXTRACT_TECHNICAL=true

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
ENABLE_AUTHENTICATION=true
API_KEY_SECRET=change-this-secret-key-in-production
JWT_SECRET_KEY=change-this-jwt-secret-in-production
API_KEY_SECRET_FILE=
JWT_SECRET_KEY_FILE=
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Rate limiting (requests per minute per IP)
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
ENABLE_JSON_LOGGING=true

# =============================================================================
# DOMAIN WEIGHTING CONFIGURATION
# =============================================================================
# Default domain weights for content classification
DEFAULT_CHEMISTRY_WEIGHT=0.33
DEFAULT_MECHANICAL_WEIGHT=0.33
DEFAULT_MATERIALS_WEIGHT=0.34

# =============================================================================
# TOOL REGISTRY CONFIGURATION
# =============================================================================
PLUGINS_AUTO_REFRESH=true
PLUGINS_SCAN_INTERVAL=300

# =============================================================================
# MCP DOMAIN CONFIGURATION
# =============================================================================
# Chemistry libraries (requires: rdkit, pubchempy, mendeleev)
CHEMISTRY_LIBS_ENABLED=false
# Materials database source
MATERIALS_DB_SOURCE=internal
# Mechanical calculations precision
MECHANICAL_PRECISION=6

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Worker processes (auto-detect if not set)
WORKERS=auto
# Request timeout (seconds)
REQUEST_TIMEOUT=60
# Max request size (MB)
MAX_REQUEST_SIZE=100
REQUESTS_POOL_CONNECTIONS=10
REQUESTS_POOL_MAXSIZE=50

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
DEBUG=false
DEV_RELOAD=false
DEV_CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Registry for image deployment
REGISTRY=ghcr.io/your-username
IMAGE_TAG=latest

# TLS/SSL Settings
ENABLE_TLS=false
SSL_CERT_PATH=/certs/cert.pem
SSL_KEY_PATH=/certs/key.pem

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================
# Reverse proxy settings
PROXY_ENABLED=false
PROXY_HOST=proxy.example.com

# Message queue (for future scaling)
MESSAGE_QUEUE_URL=redis://redis:6379/0

# External model APIs (fallback)
OPENAI_API_KEY=your-openai-key-here
ANTHROPIC_API_KEY=your-anthropic-key-here

# =============================================================================
# DATA PERSISTENCE PATHS
# =============================================================================
# These are mounted as Docker volumes
QDRANT_DATA_PATH=./data/qdrant
RAG_CACHE_PATH=./data/rag_cache
MODELS_PATH=./models
PLUGINS_PATH=./plugins
MCP_DATA_PATH=./data/mcp
LOGS_PATH=./logs
GATEWAY_STATE_PATH=./data/gateway_state

# =============================================================================
# EXAMPLES AND TESTING
# =============================================================================
# Enable sample data loading on startup
LOAD_SAMPLE_DATA=true
# Test mode settings
TEST_MODE=false
TEST_SKIP_AUTH=false
TEST_MOCK_LLM=true
